<div id="content" class="container-fluid detail-report">
    <p class="content-header" style="padding: 0px; margin-left: 14px;">{{context}} Detail Report</p>
    <!--breadcrumb-->
    <!--<nav aria-label="breadcrumb" role="navigation">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="#">
                    <a ui-sref="app.home"><span class="glyphicon glyphicon-home" aria-hidden="true"></span></a>
                </a>
            </li>
            <li class="breadcrumb-item"><a href="#">Daily Report</a></li>
            <li class="breadcrumb-item">New Daily Reportt</li>
        </ol>
    </nav>-->
    <div class="detail-report-body">
        <div class="detail-report-search-box" ng-hide="!isSearch">
            <form id="frmSearchReport">
                <div class="form-group">
                    <div class="col-md-3">
                        <label>Start date</label>
                        <div>
                            <input name="startDate"
                                   id="startDate"
                                   kendo-date-picker
                                   k-value-primitive="true"
                                   k-ng-model="detailReport.startDate"
                                   k-format="'dd/MM/yyyy'"
                                   data-required-date-msg
                                   ng-disabled="isView" />
                            <span class="k-invalid-msg" data-for="startDate"></span>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <label>End date</label>
                        <div>
                            <input name="endDate"
                                   id="endDate"
                                   kendo-date-picker
                                   k-value-primitive="true"
                                   k-format="'dd/MM/yyyy'"
                                   k-ng-model="detailReport.endDate"
                                   data-required-date-msg
                                   data-greaterdate-msg
                                   data-greaterdate-field="startDate"
                                   ng-disabled="isView" />
                            <span class="k-invalid-msg" data-for="endDate"></span>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <label>Area</label>
                        <select id="cboArea"
                                name="cboArea"
                                class="multiselect"
                                multiple="multiple"
                                kendo-multi-select
                                k-value-primitive="true"
                                k-data-source="detailReport.areas"
                                k-data-text-field="'name'"
                                k-data-value-field="'id'"
                                k-options="areaOptions"
                                ng-model="detailReport.areaIds"
                                k-on-change="onAreaChange(detailReport.areaIds)"
                                k-option-label="'Please Select'"
                                data-required-msg
                                ng-disabled="isView"></select>

                        <span class="k-invalid-msg" data-for="cboArea"></span>

                    </div>

                    <div class="col-md-3">
                        <label>Unit</label>
                        <select id="cboUnit"
                                name="cboUnit"
                                class="multiselect"
                                multiple="multiple"
                                kendo-multi-select
                                k-value-primitive="true"
                                k-data-source="detailReport.units"
                                k-data-text-field="'name'"
                                k-data-value-field="'id'"
                                k-ng-model="detailReport.unitIds"
                                k-auto-close="false"
                                data-required-msg
                                ng-disabled="isView"></select>
                        <span class="k-invalid-msg" data-for="cboUnit"></span>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="form-group">
                    <div class="col-md-3">
                        <label>Instrumentation Group</label>

                        <select name="cboGroup"
                                id="cboGroup"
                                class="multiselect"
                                multiple="multiple"
                                kendo-multi-select
                                k-auto-close="false"
                                k-value-primitive="true"
                                k-data-source="detailReport.groups"
                                k-data-text-field="'name'"
                                k-data-value-field="'id'"
                                k-ng-model="detailReport.groupIds"
                                k-on-change="onGroupChange(detailReport.groupIds)"
                                data-required-msg
                                ng-disabled="isView"></select>
                        <span class="k-invalid-msg" data-for="cboGroup"></span>
                    </div>
                    <div class="col-md-3">
                        <label>Instrumentation Type</label>
                        <select class="multiselect"
                                multiple="multiple"
                                kendo-multi-select
                                k-auto-close="false"
                                k-value-primitive="true"
                                name="cboType"
                                id="cboType"
                                k-data-source="detailReport.types"
                                k-data-text-field="'name'"
                                k-data-value-field="'id'"
                                k-ng-model="detailReport.typeIds"
                                data-required-msg
                                ng-disabled="isView"></select>
                        <span class="k-invalid-msg" data-for="cboType"></span>
                    </div>
                    <div class="col-md-3">
                        <label>Failure Sub-Type</label>

                        <select name="cboFailureType"
                                id="cboFailureType"
                                class="multiselect"
                                multiple="multiple"
                                kendo-multi-select
                                k-auto-close="false"
                                k-value-primitive="true"
                                k-data-source="detailReport.subTypes"
                                k-data-text-field="'name'"
                                k-data-value-field="'id'"
                                k-ng-model="detailReport.subTypeIds"
                                data-required-msg
                                ng-disabled="isView"></select>
                        <span class="k-invalid-msg" data-for="cboFailureType"></span>

                    </div>
                    <div class="col-md-3">
                        <button type="button" class="btn btn-generate-report" ng-click="generateReport()" ng-hide="isView">Generate Report</button>
                    </div>
                    <div class="clear"></div>
                </div>
            </form>
        </div>

        <div class="detail-report-content" ng-hide="!isGenerateReport && !isView">
            <form id="frmDetailReport">
                <ul id="home" class="nav nav-tabs">
                    <li class="active"><a ui-sref-active="active" ng-click="vm.tabChange($event,'Summary')">SUMMARY</a></li>
                    <li ng-repeat="item in detailReport.flowCharts"><a ui-sref-active="active" ng-click="vm.tabChange($event, item.id)">{{item.sortName}}</a></li>
                </ul>
                <div class="tab-content" ui-view="subContent">
                    <div class="col-md-12 header-content">
                        <div class="col-md-2 logo">
                            <img src="assets/images/logo-petronas.jpg" alt="">
                        </div>
                        <div class="col-md-10 title">
                            <h2>
                                PERFORMANCE OF {{detailReport.areaName}} INSTRUMENTATION
                            </h2>
                            <h2>
                                <span ng-bind="detailReport.startDate | date:'dd MMM yyyy'| uppercase"></span> - <span ng-bind="detailReport.endDate | date:'dd MMM yyyy'| uppercase"></span>
                            </h2>
                            <h2>
                                <span class="span-title">
                                    SUMMARY OF INSTRUMENTATIONS HEALTHINESS
                                </span>
                            </h2>
                        </div>
                    </div>
                    <div class="clear clear-fix"></div>
                    <div role="tabpanel" class="tab-pane active" id="SummaryTab">
                        <div class="form-group">

                            <div class="col-md-4">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <p class="title text-uppercase">INSTRUMENTATIONS HEALTHINESS</p>
                                        <p class="item" ng-repeat="item in detailReport.summaryChart.healthiNess">{{item.name}} <span><i class="{{item.color}}"></i> {{item.value}}%</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <p class="title text-uppercase">Work Type</p>
                                        <p class="item" ng-repeat="item in detailReport.summaryChart.workTypes">{{item.name}} <span><i class="{{item.color}}"></i> {{item.value}}<i ng-if="item.color">%</i></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <p class="title text-uppercase">Area of Rectification</p>
                                        <div kendo-chart="unitChart"
                                             id="unitChart"
                                             k-legend='{
                        position: "bottom"
                     }' ,
                                             k-series-defaults="{ type: 'pie' ,
                      labels: {
                        template: '#if(value !=0 ){# #= category # - #= kendo.format(\'{0:P}\', percentage)# #}#',
                        position: 'outsideEnd',
                        visible: true,
                        background: 'transparent'
                    }
                    }"
                                             k-series="[{
                                    field: 'value',
                                    categoryField: 'name',
                                    padding: 50
                                  }]"
                                             k-tooltip='{
                                    visible: true,
                                    format: "{0}%",
                                    template: "#= category # - #= kendo.format(\"{0:P}\", percentage) #",
                                    background:"white",
                                    color:"black"
                                  }' ,
                                             k-data-source="detailReport.summaryChart.unitsCharts"
                                             style="height:370px"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="clear"></div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12">
                                <div id="summaryChart"
                                     kendo-chart="summaryChart" k-title="'SUMMARY HEALTHINESS'"
                                     k-value-axis="{majorUnit: 1}"
                                     k-series="detailReport.summaryChart.series"
                                     k-tooltip="{visible:true,background: '#ffffff', template: '#= series.name #: #= value #'}"
                                     k-category-axis="{categories: detailReport.summaryChart.categories,majorGridLines: {visible: false},justified:true,labels: visualChart}"
                                     k-legend="{ position: 'bottom' }"></div>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <div class="form-group required">
                            <div class="col-md-12">
                                <label class="control-label text-uppercase title-700">Analysis and recommendation</label>
                                <textarea class="form-control"
                                          id="txtAnalysisAndRecommendation"
                                          name="txtAnalysisAndRecommendation"
                                          rows="5"
                                          ng-model="detailReport.analysisRecomendationSummary"
                                          required
                                          ng-disabled="isView"
                                          validationMessage="This field is required."></textarea>
                                <span class="k-invalid-msg" data-for="txtAnalysisAndRecommendation"></span>
                            </div>
                            <div class="clear"></div>
                        </div>

                        <div class="form-group required">
                            <div class="col-md-12">
                                <label class="control-label text-uppercase title-700">Highlight</label>
                                <textarea class="form-control"
                                          rows="5"
                                          id="txtHighlightSummary"
                                          name="txtHighlightSummary"
                                          required
                                          ng-disabled="isView"
                                          validationMessage="This field is required."
                                          ng-model="detailReport.hightLight"></textarea>
                                <span class="k-invalid-msg" data-for="txtHighlightSummary"></span>

                            </div>
                            <div class="clear"></div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12" ng-if="detailReport.attachmentId">
                                <label>&nbsp; </label>
                                <img id="detailImg" data-ng-src="{{detailReport.imageUrl}}" ng-model="detailReport.imageUrl" ng-click="openAttachmentPopup()" />
                                <button ng-show="detailReport.attachmentId" ng-click="removeImage()" style="vertical-align: top;
                                background-color: white;
                                margin-left: 5px;
                                border-top: 1px solid #c5c5c5;
                                border-left: 1px solid #c5c5c5;
                                border-bottom: 2px solid #2e2e2e;
                                border-right: 2px solid #2e2e2e;">REMOVE IMAGE</button>
                              </div>
                            <div class="col-md-12">
                                <input name="txtFileUpload"
                                       id="txtFileUpload"
                                       type="file"
                                       kendo-upload
                                       ng-disabled="isView"
                                       k-multiple="false"
                                       k-upload="Prevent"
                                       k-show-file-list="false"
                                       k-select="onSelectFile" 
                                       ng-hide="isView" />
                                <div class="clear"></div>
                            </div>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <div role="tabpanel" ng-repeat="item in detailReport.flowCharts" class="tab-pane" id="{{item.id}}Tab">
                        <div class="chart-item">
                            <div class="form-group">
                                <div class="col-md-4">
                                    <div class="panel panel-default" ng-show="item.healthiNess.length > 0">
                                        <div class="panel-body">
                                            <p class="title text-uppercase">{{item.sortName}} INSTRUMENTATIONS HEALTHINESS</p>
                                            <p class="item" ng-repeat="it in item.healthiNess">{{it.name}} <span><i class="{{it.color}}"></i> {{it.value}}</span></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <p class="title text-uppercase">FAILURE BY MANUFACTURE</p>
                                            <p class="item" ng-repeat="it in item.failureByBrands">{{it.name}} <span>{{it.value}}</span></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <p class="title text-uppercase">Area of Rectification</p>
                                            <div kendo-chart="unitChart"
                                                 id="unitChart{{item.id}}"
                                                 k-legend='{
                          position: "bottom"
                       }' ,
                                                 k-series-defaults="{ type: 'pie' ,
                        labels: {
                            template: '#if(value !=0 ){# #= category # - #= kendo.format(\'{0:P}\', percentage)# #}#',
                          position: 'outsideEnd',
                          visible: true,
                          background: 'transparent'
                      }
                      }"
                                                 k-series="[{
                                      field: 'value',
                                      categoryField: 'name',
                                      padding: 50
                                    }]"
                                                 k-tooltip='{
                                      visible: true,
                                      format: "{0}%",
                                      template: "#= category # - #= kendo.format(\"{0:P}\", percentage) #",
                                      background:"white",
                                      color:"black"
                                    }' ,
                                                 k-data-source="detailReport.summaryChart.unitsCharts"
                                                 style="height:370px;margin-right:30px"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="clear"></div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-12">
                                    <div id="flowChart{{item.id}}"
                                         kendo-chart="flowChart"
                                         k-value-axis="{majorUnit: 1}"
                                         k-title="'{{item.name}}'"
                                         k-tooltip="{visible:true,background: '#ffffff', template: '#= series.name #: #= value #'}"
                                         k-series="item.series"
                                         k-category-axis="{categories: item.categories,
                                            majorGridLines: {visible: false},
                                            labels: visualChart,
                                            justified:true}"
                                         k-legend="{ position: 'bottom'}"></div>
                                </div>
                                <div class="clear"></div>
                            </div>

                        </div>


                        <div class="form-group">
                            <div class="col-md-12">
                                <label class="text-uppercase title-700">Analysis and recommendation</label>
                                <textarea class="form-control"
                                          id="txtAnalysisAndRecommendationFlow{{$index}}"
                                          name="txtAnalysisAndRecommendationFlow{{$index}}"
                                          rows="5"
                                          ng-disabled="isView"
                                          ng-model="item.analysisRecomendation"></textarea>
                            </div>
                            <div class="clear"></div>
                        </div>

                    </div>

                </div>
            </form>
        </div>

        <div class="group-detailReport">
            <div class="pull-right">
                <button type="button" class="btn" ng-click="goToCancel()" ng-show="canCancel">Cancel</button>
                <button type="button" class="btn" ng-click="onDiscard()" ng-show="canDiscard">Discard</button>
                <button type="button" style="background-color: #49a01c" class="btn" ng-show="createMode" ng-click="downloadExport()">EXPORT REPORT</button>
                <button type="button" class="btn" ng-click="onSaveDraft();" ng-show="canDraft && isGenerateReport">Save as Draft</button>
                <button type="button" class="btn" ng-click="onDelete()" ng-show="canDelete  && isGenerateReport">Delete</button>
                <button type="button" class="btn" ng-click="onUpdate()" ng-show="canUpdate  && isGenerateReport">Update</button>
                <button type="button" class="btn" ng-show="canSave" ng-click="update()">Save</button>
                <button type="button" class="btn" ng-click="onExportExcel()" style="background-color: #498f26" ng-show="canExportExcel && isGenerateReport">Export to Excel</button>
                <button type="button" class="btn" ng-click="onExport()" style="background-color: #f86706" ng-show="canExport && isGenerateReport">Export to PDF</button>
                <!--<button type="button" class="btn" ng-click="goTo('app.home.all')" ng-show="canCancel">Cancel</button>-->
                <button type="button" class="btn" ng-click="onSave(2)" ng-show="canCreate && isGenerateReport">Create</button>
                <!--<button type="button" class="btn" ng-click="goTo('acknowledged');" ng-show="canAcknowledged">Acknowledged</button>-->
            </div>
            <div class="clear"></div>
        </div>

        <div class="clear"></div>
    </div>
</div>
<div style="position: absolute;bottom: 79px;left: 5px;font-size: 15px;font-style: italic;">
    <span style="display: inline-block">{{saveOn}} {{saveBy}}</span>
</div>
<div id="errorQtyRange" class="modal fade modal-md" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Warning</h4>
            </div>

            <div class="modal-body">
                <p>
                    There is no QTY effective during your report period. Please contact your Admin before you can create this Detail Report.
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="width: 50px">Ok</button>
            </div>
        </div>
    </div>
</div>

<div class="export-content">
    <div class="tab-content" ui-view="subContent">
        <div class="col-md-12 header-content">
            <div class="col-md-2 logo">
                <img src="assets/images/logo-petronas.jpg" alt="">
            </div>
            <div class="col-md-10 title text-center">
                <h2>
                    PERFORMANCE OF {{detailReport.areaName}} INSTRUMENTATION
                </h2> 
                <h2>
                    <span ng-bind="detailReport.startDate|date:'dd MMM yyyy' | uppercase"></span>-<span ng-bind="detailReport.endDate| date:'dd MMM yyyy' | uppercase"></span>
                </h2>
                <!--<h2>
                  <span class="span-title">
                    SUMMARY OF INSTRUMENTATIONS HEALTHINESS
                  </span>
                </h2>-->
            </div>
        </div>
        <div class="clear clear-fix"></div>
        <!--<div class="nav nav-tabs">
            SUMMARY OF INSTRUMENTATIONS HEALTHINESS
        </div>-->
        <div class="col-md-12 text-center instru-header">
            SUMMARY OF INSTRUMENTATIONS HEALTHINESS
        </div>
        <div class="summary-pane">
            <div class="form-group">
                <div class="row">
                    <div class="col-md-4">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <p class="title text-uppercase">Instrumentations Healthiness</p>
                                        <p class="item" ng-repeat="item in detailReport.summaryChart.healthiNess">{{item.name}} <span><i class="{{item.color}}"></i> {{item.value}}%</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <p class="title text-uppercase">Work Type</p>
                                        <p class="item" ng-repeat="item in detailReport.summaryChart.workTypes">{{item.name}} <span><i class="{{item.color}}"></i> {{item.value}}<i ng-if="item.color">%</i></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <p class="title text-uppercase">Area of Rectification</p>
                                        <div kendo-chart
                                             k-legend='{
                  position: "bottom"
               }' ,
                                             k-series-defaults="{ type: 'pie' ,
                labels: {
                template: '#if(value !=0 ){# #= kendo.format(\'{0:P}\', percentage)# #}#',
                position: 'center',
                  visible: true,
                  background: 'transparent'
              }
              }"
                                             k-series="[{
                              field: 'value',
                              categoryField: 'name',
                              padding: 50
                            }]"
                                             k-tooltip='{
                              visible: true,
                              format: "{0}%",
                              template: "#= category # - #= kendo.format(\"{0:P}\", percentage) #",
                              background:"white",
                              color:"black"
                            }' ,
                                             k-data-source="detailReport.summaryChart.unitsCharts"
                                             style="height:370px"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="form-group">
                            <div class="col-md-12">
                                <div kendo-chart="summaryChart" k-title="'SUMMARY HEALTHINESS'"
                                     k-value-axis="{majorUnit: 1}"
                                     k-series-defaults="{ type: 'column' ,
            labels: {
              position: 'outsideEnd',
              visible: true,
              background: 'transparent'
          }}"
                                     k-series="detailReport.summaryChart.series"
                                     k-category-axis="{
                                         categories: detailReport.summaryChart.categories,majorGridLines: {visible: false},labels: visualChart}"
                                     k-legend="{ position: 'bottom' }"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12 text-center child-header text-uppercase title-700">
                        Analysis and recommendation
                    </div>
                    <div class="col-md-12">
                        <p class="astextarea" ng-bind="detailReport.analysisRecomendationSummary" ng-hide="!isView"></p>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="form-group">
                    <div class="col-md-12 text-center child-header text-uppercase title-700">
                        Highlight
                    </div>
                    <div class="col-md-12">
                        <div class="col-md-8">
                            <p class="astextarea" ng-bind="detailReport.hightLight" ng-hide="!isView"></p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <img id="detailImg" ng-src="{{detailReport.imageUrl}}" />
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="clear"></div>
            </div>
            <div id="PageBreak"></div>
            <div class="flow-pane">
                <div  ng-repeat="item in detailReport.flowCharts">
                    <div class="chart-item">
                    <div ng-if="($index+1) % 2 !== 0" class="col-md-12 header-content">
                        <div class="col-md-2 logo">
                            <img src="assets/images/logo-petronas.jpg" alt="">
                        </div>
                        <div class="col-md-10 title text-center"> 
                            <h2>
                                PERFORMANCE OF {{detailReport.areaName}} INSTRUMENTATION
                            </h2>
                            <h2>
                                <span ng-bind="detailReport.startDate|date:'dd MMM yyyy'| uppercase"></span>-<span ng-bind="detailReport.endDate| date:'dd MMM yyyy'| uppercase"></span>
                            </h2>
                            <!--<h2>
                              <span class="span-title">
                                SUMMARY OF INSTRUMENTATIONS HEALTHINESS
                              </span>
                            </h2>-->
                        </div>
                    </div>
                    <div class="col-md-12 text-center instru-header">
                        {{item.name}}
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                <p class="title text-uppercase">{{item.shortName}} Instrumentations Healthiness</p>
                                                <p class="item" ng-repeat="it in item.healthiNess">{{it.name}} <span><i class="{{it.color}}"></i> {{it.value}}</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                <p class="title text-uppercase">FAILURE BY MANUFACTURER</p>
                                                <p class="item" ng-repeat="it in item.failureByBrands">{{it.name}} <span>{{it.value}}</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                <p class="title text-uppercase">Area of Rectification</p>
                                                <div kendo-chart="unitChart"
                                                     id="unitChart"
                                                     k-legend='{
                                  position: "bottom"
                               }' ,
                                                     k-series-defaults="{ type: 'pie' ,
                                labels: {
                                  template: '#if(value !=0 ){# #= kendo.format(\'{0:P}\', percentage)# #}#',
                                  position: 'center',
                                  visible: true,
                                  background: 'transparent'
                              }
                              }"
                                                     k-series="[{
                                              field: 'value',
                                              categoryField: 'name',
                                              padding: 50
                                            }]"
                                                     k-tooltip='{
                                              visible: true,
                                              format: "{0}%",
                                              template: "#= category # - #= kendo.format(\"{0:P}\", percentage) #",
                                              background:"white",
                                              color:"black"
                                            }' ,
                                                     k-data-source="detailReport.summaryChart.unitsCharts"
                                                     style="height:370px"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-md-9">
                                <div class="col-md-12">
                                    <div kendo-chart="flowChart"
                                         k-title="'{{item.name}}'"
                                         k-value-axis="{majorUnit: 1}"
                                         k-series-defaults="{ type: 'column',labels: {
                    position: 'outsideEnd',
                    visible: true,
                    background: 'transparent'
                }}"
                                         k-series="item.series"
                                         k-category-axis="{
                                             categories: item.categories,
                                             majorGridLines: {visible: false},
                                             justified:true,
                                             labels: visualChart
                                            }"
                                         k-legend="{ position: 'bottom',spacing:20}"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-12 text-center child-header text-uppercase">
                            Analysis and recommendation
                        </div>
                        <div class="col-md-12">
                            <p class="astextarea" ng-hide="!isView"></p>
                        </div>
                        <div class="clear"></div>
                    </div>
                </div> 
                <div id="PageBreak"></div>  
                </div>   
            </div>
        </div>
    </div>
</div>
<div id="messageOneDetail" class="modal fade modal-md" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Warning</h4>
            </div>

            <div class="modal-body">
                <p>
                    Data of current Report may be lost. Do you still want to discard this Report?
                </p>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="width: 75px">Cancel</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" style="width: 75px" ng-click="onConfirmMessageOne($event)">Ok</button>
            </div>
        </div>
    </div>
</div>
<style>
  md-footer {
      display: none;
  }

  .export-content {
      background: #fff;
      padding: 10px;
      position: fixed;
      margin-top: 200%;
      width: 90%;
      min-width: 1000px;
  }

      .export-content .header-content .title h2 span.span-title {
          background: #c9d44a;
          padding: 10px 20px 10px 10px;
      }

      .export-content .instru-header {
          font-family: museo_sans_700;
          font-size: 24px;
          font-weight: bold;
          padding: 15px;
          background-color: #ffff00;
          border: 1px solid black;
      }

      .export-content .child-header {
          border-bottom: 1px solid;
          border-top: 1px solid;
          background-color: #d0cece;
      }
      .export-content #PageBreak{
        border: 2px solid rgb(10, 10, 10);
        margin: 20px 0px 20px 0px
      }
      .export-content .tab-content .header-content {
          border: 1px solid black;
          height: 187px;
      }

          .export-content .tab-content .header-content .logo {
              border-right: 1px solid black;
          }

              .export-content .tab-content .header-content .logo > img {
                  width: auto;
              }

      .export-content .summary-pane > .form-group {
          border: 1px solid black;
          margin-bottom: 0px;
      }

      .export-content .summary-pane .chart-item {
          border: 1px solid;
          /* border-top: none; */
      }

      .export-content .nav-tabs {
          font-size: 21px;
          height: 35px;
          padding-left: 10px;
          text-align: center;
          font-weight: bold;
          border-bottom: 5px solid #008b8b;
          margin-bottom: 20px;
          margin-top: 20px;
          color: black;
      }

          .export-content .nav-tabs a {
              color: #fff;
          }

      .export-content .panel-body p,
      .export-content .panel-body p span {
          font-size: 13px;
      }

      .export-content .tab-content .panel-default p.item span i {
          border-radius: 20px;
          padding: 1px 8px;
          /* background: #00a19c; */
          margin-right: 5px;
      }

      .export-content .Red, .red {
          color: red;
          background: red;
      }

      .export-content .Green, .green {
          color: green;
          background: green;
      }

      .export-content .Yellow, .yellow {
          color: yellow;
          background: yellow;
      }

      .export-content .tab-content .panel-default p.item span {
          float: right;
          width: 60px;
      }

          .export-content .tab-content .panel-default p.item span i {
              border-radius: 20px;
              padding: 1px 8px;
              /* background: #00a19c; */
              margin-right: 5px;
          }

      .export-content .panel.panel-default {
          margin-bottom: 4px;
      }

          .export-content .panel.panel-default .panel-body {
              padding: 4px;
          }

              .export-content .panel.panel-default .panel-body .title {
                  margin-bottom: 2px;
                  background-color: #d0cece;
                  font-family: museo_sans_700,Verdana;
                  font-size: 20px;
              }

              .export-content .panel.panel-default .panel-body .item {
                  margin-bottom: 0px;
                  border-top: 1px solid gray;
                  font-family: museo_sans_300,Verdana;
                  font-size: 16px;
              }

                  .export-content .panel.panel-default .panel-body .item:first-child {
                      border-top: none;
                  }

  img#detailImg{
      max-width: 100%;
      height: auto;
      width: auto; 
      max-height: 480px;
      max-width: 640px; /* ie8 */
  }
</style>
<!--<script>
  // Import DejaVu Sans font for embedding
  kendo.pdf.defineFont({
    "museo_sans":
      url('../fonts/museo-sans/museosans_100-webfont.woff2'),

    "museo_sans | bold":
      url('../fonts/museo-sans/museosans_900-webfont.woff2')
  });
</script>-->
